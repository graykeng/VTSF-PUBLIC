{"ast":null,"code":"import _slicedToArray from \"/Users/graykeng/Documents/Coding/webDev/vtsfw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/graykeng/Documents/Coding/webDev/vtsfw/src/component/FCarousel.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './style/FCarousel.css';\nvar FCarousel = function FCarousel(props) {\n  var imagePaths = props.EventPic.filter(function (val) {\n    return val.InPage === 'Carousel';\n  }).map(function (val) {\n    return val.ImagePath;\n  });\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentImage = _useState2[0],\n    setCurrentImage = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    progress = _useState4[0],\n    setProgress = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    intervalId = _useState6[0],\n    setIntervalId = _useState6[1];\n  var interval = 5;\n  useEffect(function () {\n    if (progress >= 100) {\n      clearInterval(intervalId);\n      return;\n    }\n    var newIntervalId = setIntervalId(function () {\n      setProgress(function (prevProgress) {\n        return prevProgress + 1;\n      });\n    }, 50);\n    setIntervalId(newIntervalId);\n    return function () {\n      clearInterval(newIntervalId);\n    };\n\n    // function switchImage() {\n    //   setCurrentImage((prevImage) => (prevImage + 1) % imagePaths.length);\n    // }\n\n    // setProgress(0);\n    // const timeoutId = setTimeout(switchImage, interval*1000);\n\n    // return () => {\n    //   clearTimeout(timeoutId);\n    // };\n  }, [progress]);\n  useEffect(function () {\n    var timeoutId = setTimeout(function () {\n      clearInterval(intervalId);\n      setProgress(0);\n      setCurrentImage(function (prevImage) {\n        return (prevImage + 1) % imagePaths.length;\n      });\n    }, 5000);\n    return function () {\n      clearTimeout(timeoutId);\n    };\n  }, []);\n  var handlePrev = function handlePrev() {\n    setCurrentImage((currentImage - 1 + imagePaths.length) % imagePaths.length);\n    setProgress(0);\n  };\n  var handleNext = function handleNext() {\n    setCurrentImage((currentImage + 1) % imagePaths.length);\n    setProgress(0);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel-inner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"prevButton\",\n    onClick: handlePrev,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: imagePaths[currentImage],\n    alt: currentImage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"nextButton\",\n    onClick: handleNext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }))));\n};\nexport default FCarousel;","map":{"version":3,"names":["React","useState","useEffect","FCarousel","props","imagePaths","EventPic","filter","val","InPage","map","ImagePath","currentImage","setCurrentImage","progress","setProgress","intervalId","setIntervalId","interval","clearInterval","newIntervalId","prevProgress","timeoutId","setTimeout","prevImage","length","clearTimeout","handlePrev","handleNext"],"sources":["/Users/graykeng/Documents/Coding/webDev/vtsfw/src/component/FCarousel.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './style/FCarousel.css';\n\n\nconst FCarousel = (props) => {\n\n  const imagePaths = props.EventPic\n    .filter(val => val.InPage === 'Carousel')\n    .map(val => val.ImagePath);\n  const [currentImage, setCurrentImage] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [intervalId, setIntervalId] = useState(null);\n\n  const interval = 5;\n\n  useEffect(() => {\n    \n    if (progress >= 100) {\n      clearInterval(intervalId);\n      return;\n    }\n\n    const newIntervalId = setIntervalId(() => {\n      setProgress((prevProgress) => prevProgress + 1);\n    }, 50);\n\n    setIntervalId(newIntervalId);\n\n    return () => {\n      clearInterval(newIntervalId);\n    }\n\n\n\n    // function switchImage() {\n    //   setCurrentImage((prevImage) => (prevImage + 1) % imagePaths.length);\n    // }\n\n    // setProgress(0);\n    // const timeoutId = setTimeout(switchImage, interval*1000);\n\n    // return () => {\n    //   clearTimeout(timeoutId);\n    // };\n\n  }, [progress]);\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      clearInterval(intervalId);\n      setProgress(0);\n      setCurrentImage((prevImage) => (prevImage + 1) % imagePaths.length);\n    }, 5000);\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, []);\n\n  const handlePrev = () => {\n    setCurrentImage((currentImage - 1 + imagePaths.length) % imagePaths.length);\n    setProgress(0);\n  };\n\n  const handleNext = () => {\n    setCurrentImage((currentImage + 1) % imagePaths.length);\n    setProgress(0);\n  };\n\n\n\n  return (\n    <div>\n      <div className=\"carousel-container\">\n        <div className='carousel-inner'>\n          <button className='prevButton' onClick={handlePrev}></button>\n\n          <img src={imagePaths[currentImage]} alt={currentImage} />\n          <button className='nextButton' onClick={handleNext}></button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default FCarousel;"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,uBAAuB;AAG9B,IAAMC,SAAS,GAAG,SAAZA,SAAS,CAAIC,KAAK,EAAK;EAE3B,IAAMC,UAAU,GAAGD,KAAK,CAACE,QAAQ,CAC9BC,MAAM,CAAC,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACC,MAAM,KAAK,UAAU;EAAA,EAAC,CACxCC,GAAG,CAAC,UAAAF,GAAG;IAAA,OAAIA,GAAG,CAACG,SAAS;EAAA,EAAC;EAAC,gBACWV,QAAQ,CAAC,CAAC,CAAC;IAAA;IAA5CW,YAAY;IAAEC,eAAe;EAAA,iBACJZ,QAAQ,CAAC,CAAC,CAAC;IAAA;IAApCa,QAAQ;IAAEC,WAAW;EAAA,iBACQd,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA3Ce,UAAU;IAAEC,aAAa;EAEhC,IAAMC,QAAQ,GAAG,CAAC;EAElBhB,SAAS,CAAC,YAAM;IAEd,IAAIY,QAAQ,IAAI,GAAG,EAAE;MACnBK,aAAa,CAACH,UAAU,CAAC;MACzB;IACF;IAEA,IAAMI,aAAa,GAAGH,aAAa,CAAC,YAAM;MACxCF,WAAW,CAAC,UAACM,YAAY;QAAA,OAAKA,YAAY,GAAG,CAAC;MAAA,EAAC;IACjD,CAAC,EAAE,EAAE,CAAC;IAENJ,aAAa,CAACG,aAAa,CAAC;IAE5B,OAAO,YAAM;MACXD,aAAa,CAACC,aAAa,CAAC;IAC9B,CAAC;;IAID;IACA;IACA;;IAEA;IACA;;IAEA;IACA;IACA;EAEF,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;EAEdZ,SAAS,CAAC,YAAM;IACd,IAAMoB,SAAS,GAAGC,UAAU,CAAC,YAAM;MACjCJ,aAAa,CAACH,UAAU,CAAC;MACzBD,WAAW,CAAC,CAAC,CAAC;MACdF,eAAe,CAAC,UAACW,SAAS;QAAA,OAAK,CAACA,SAAS,GAAG,CAAC,IAAInB,UAAU,CAACoB,MAAM;MAAA,EAAC;IACrE,CAAC,EAAE,IAAI,CAAC;IAER,OAAO,YAAM;MACXC,YAAY,CAACJ,SAAS,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMK,UAAU,GAAG,SAAbA,UAAU,GAAS;IACvBd,eAAe,CAAC,CAACD,YAAY,GAAG,CAAC,GAAGP,UAAU,CAACoB,MAAM,IAAIpB,UAAU,CAACoB,MAAM,CAAC;IAC3EV,WAAW,CAAC,CAAC,CAAC;EAChB,CAAC;EAED,IAAMa,UAAU,GAAG,SAAbA,UAAU,GAAS;IACvBf,eAAe,CAAC,CAACD,YAAY,GAAG,CAAC,IAAIP,UAAU,CAACoB,MAAM,CAAC;IACvDV,WAAW,CAAC,CAAC,CAAC;EAChB,CAAC;EAID,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,oBAAoB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACjC;IAAK,SAAS,EAAC,gBAAgB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC7B;IAAQ,SAAS,EAAC,YAAY;IAAC,OAAO,EAAEY,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAU,eAE7D;IAAK,GAAG,EAAEtB,UAAU,CAACO,YAAY,CAAE;IAAC,GAAG,EAAEA,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACzD;IAAQ,SAAS,EAAC,YAAY;IAAC,OAAO,EAAEgB,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAU,CACzD,CACF,CACF;AAEV,CAAC;AAED,eAAezB,SAAS"},"metadata":{},"sourceType":"module"}