{"ast":null,"code":"import _slicedToArray from \"/Users/graykeng/Documents/Coding/webDev/vtsfw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/graykeng/Documents/Coding/webDev/vtsfw/src/component/FCarousel.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './style/FCarousel.css';\nvar Carousel = function Carousel(props) {\n  var imagePaths = props.EventPic.filter(function (val) {\n    return val.InPage === 'Carousel';\n  }).map(function (val) {\n    return val.ImagePath;\n  });\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentImage = _useState2[0],\n    setCurrentImage = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    intervalId = _useState4[0],\n    setIntervalId = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    progress = _useState6[0],\n    setProgress = _useState6[1];\n  useEffect(function () {\n    startTimer();\n    return function () {\n      clearInterval(intervalId);\n    };\n  }, [imagePaths.length]);\n  useEffect(function () {\n    var progressTimer = setInterval(function () {\n      setProgress(function (prevProgress) {\n        if (prevProgress >= 100) {\n          setCurrentImage(function (prevImage) {\n            return (prevImage + 1) % imagePaths.length;\n          });\n          return 0;\n        } else {\n          return prevProgress + 1;\n        }\n      });\n    }, 30);\n    return function () {\n      clearInterval(progressTimer);\n    };\n  }, [currentImage, imagePaths.length]);\n  var startTimer = function startTimer() {\n    if (intervalId) {\n      clearInterval(intervalId);\n    }\n    var newIntervalId = setInterval(function () {\n      setCurrentImage(function (prevImage) {\n        return (prevImage + 1) % imagePaths.length;\n      });\n      setProgress(0);\n    }, 3000);\n    setIntervalId(newIntervalId);\n  };\n  var handlePrev = function handlePrev() {\n    setCurrentImage((currentImage - 1 + imagePaths.length) % imagePaths.length);\n    setProgress(0);\n    startTimer();\n  };\n  var handleNext = function handleNext() {\n    setCurrentImage((currentImage + 1) % imagePaths.length);\n    setProgress(0);\n    startTimer();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel-inner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"prevButton\",\n    onClick: handlePrev,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress-bar\",\n    style: {\n      width: \"\".concat(progress / 6, \"%\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: imagePaths[currentImage],\n    alt: \"carousel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"nextButton\",\n    onClick: handleNext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }))));\n};\nexport default Carousel;","map":{"version":3,"names":["React","useState","useEffect","Carousel","props","imagePaths","EventPic","filter","val","InPage","map","ImagePath","currentImage","setCurrentImage","intervalId","setIntervalId","progress","setProgress","startTimer","clearInterval","length","progressTimer","setInterval","prevProgress","prevImage","newIntervalId","handlePrev","handleNext","width"],"sources":["/Users/graykeng/Documents/Coding/webDev/vtsfw/src/component/FCarousel.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './style/FCarousel.css';\n\nconst Carousel = (props) => {\n  const imagePaths = props.EventPic\n    .filter(val => val.InPage === 'Carousel')\n    .map(val => val.ImagePath);\n\n  const [currentImage, setCurrentImage] = useState(0);\n  const [intervalId, setIntervalId] = useState(null);\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    startTimer();\n    \n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [imagePaths.length]);\n\n  useEffect(() => {\n    const progressTimer = setInterval(() => {\n      setProgress(prevProgress => {\n        if (prevProgress >= 100) {\n          setCurrentImage(prevImage => (prevImage + 1) % imagePaths.length);\n          return 0;\n        } else {\n          return prevProgress + 1;\n        }\n      });\n    }, 30);\n\n    return () => {\n      clearInterval(progressTimer);\n    }\n  }, [currentImage, imagePaths.length]);\n\n  const startTimer = () => {\n    if (intervalId) {\n      clearInterval(intervalId);\n    }\n    const newIntervalId = setInterval(() => {\n      setCurrentImage(prevImage => (prevImage + 1) % imagePaths.length);\n      setProgress(0);\n    }, 3000);\n    setIntervalId(newIntervalId);\n  };\n\n  const handlePrev = () => {\n    setCurrentImage((currentImage - 1 + imagePaths.length) % imagePaths.length);\n    setProgress(0);\n    startTimer();\n  };\n\n  const handleNext = () => {\n    setCurrentImage((currentImage + 1) % imagePaths.length);\n    setProgress(0);\n    startTimer();\n  };\n\n  return (\n    <div>\n      <div className=\"carousel-container\">\n        <div className='carousel-inner'>\n          <button className='prevButton' onClick={handlePrev}></button>\n          <div className=\"progress-bar\" style={{ width: `${progress/6}%` }}></div>\n          <img src={imagePaths[currentImage]} alt=\"carousel\" />\n          <button className='nextButton' onClick={handleNext}></button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Carousel;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}