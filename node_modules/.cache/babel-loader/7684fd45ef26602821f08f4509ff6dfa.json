{"ast":null,"code":"import _slicedToArray from \"/Users/graykeng/Documents/Coding/webDev/vtsfw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/graykeng/Documents/Coding/webDev/vtsfw/src/component/FCarousel.jsx\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport './style/FCarousel.css';\nvar FCarousel = function FCarousel(props) {\n  var imagePaths = props.EventPic.filter(function (val) {\n    return val.InPage === 'Carousel';\n  }).map(function (val) {\n    return val.ImagePath;\n  });\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentImage = _useState2[0],\n    setCurrentImage = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    progress = _useState4[0],\n    setProgress = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    intervalId = _useState6[0],\n    setIntervalId = _useState6[1];\n  var interval = 5;\n  var switchImage = useCallback(function () {\n    setCurrentImage(function (prevImage) {\n      return (prevImage + 1) % imagePaths.length;\n    });\n    setProgress(0);\n  }, [imagePaths.length]);\n  useEffect(function () {\n    if (progress >= 100) {\n      clearInterval(intervalId);\n      setIntervalId(null);\n      return;\n    }\n    clearInterval(intervalId);\n    var newIntervalId = setInterval(function () {\n      setProgress(function (prevProgress) {\n        return prevProgress + 1;\n      });\n    }, 50);\n    setIntervalId(newIntervalId);\n    return function () {\n      clearInterval(newIntervalId);\n    };\n  }, [progress]);\n  useEffect(function () {\n    var timeoutId = setTimeout(switchImage, interval * 1000);\n    return function () {\n      clearTimeout(timeoutId);\n    };\n  }, [interval, switchImage]);\n  var handlePrev = function handlePrev() {\n    setCurrentImage((currentImage - 1 + imagePaths.length) % imagePaths.length);\n    setProgress(0);\n  };\n  var handleNext = function handleNext() {\n    setCurrentImage((currentImage + 1) % imagePaths.length);\n    setProgress(0);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel-inner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"prevButton\",\n    onClick: handlePrev,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: imagePaths[currentImage],\n    alt: currentImage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"nextButton\",\n    onClick: handleNext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }))));\n};\nexport default FCarousel;","map":{"version":3,"names":["React","useState","useEffect","useCallback","FCarousel","props","imagePaths","EventPic","filter","val","InPage","map","ImagePath","currentImage","setCurrentImage","progress","setProgress","intervalId","setIntervalId","interval","switchImage","prevImage","length","clearInterval","newIntervalId","setInterval","prevProgress","timeoutId","setTimeout","clearTimeout","handlePrev","handleNext"],"sources":["/Users/graykeng/Documents/Coding/webDev/vtsfw/src/component/FCarousel.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport './style/FCarousel.css';\n\nconst FCarousel = (props) => {\n  const imagePaths = props.EventPic\n    .filter(val => val.InPage === 'Carousel')\n    .map(val => val.ImagePath);\n  const [currentImage, setCurrentImage] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [intervalId, setIntervalId] = useState(null);\n\n  const interval = 5;\n\n  const switchImage = useCallback(() => {\n    setCurrentImage((prevImage) => (prevImage + 1) % imagePaths.length);\n    setProgress(0);\n  }, [imagePaths.length]);\n\n  useEffect(() => {\n    if (progress >= 100) {\n      clearInterval(intervalId);\n      setIntervalId(null);\n      return;\n    }\n\n    clearInterval(intervalId);\n    const newIntervalId = setInterval(() => {\n      setProgress((prevProgress) => prevProgress + 1);\n    }, 50);\n\n    setIntervalId(newIntervalId);\n\n    return () => {\n      clearInterval(newIntervalId);\n    };\n  }, [progress]);\n\n  useEffect(() => {\n    const timeoutId = setTimeout(switchImage, interval * 1000);\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [interval, switchImage]);\n\n  const handlePrev = () => {\n    setCurrentImage((currentImage - 1 + imagePaths.length) % imagePaths.length);\n    setProgress(0);\n  };\n\n  const handleNext = () => {\n    setCurrentImage((currentImage + 1) % imagePaths.length);\n    setProgress(0);\n  };\n\n  return (\n    <div>\n      <div className=\"carousel-container\">\n        <div className=\"carousel-inner\">\n          <button className=\"prevButton\" onClick={handlePrev}></button>\n\n          <img src={imagePaths[currentImage]} alt={currentImage} />\n          <button className=\"nextButton\" onClick={handleNext}></button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FCarousel;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}